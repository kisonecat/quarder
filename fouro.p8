pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- in2the4
-- by kisonecat

beats_per_second = 2
last_beat = 0

px = 2
labels = {}
cards = {}

function _init()
   shuffle()
end

function shuffle()
   for i=1, 10 do
      cards[i] = i
   end

   for i=10, 2, -1 do
      local j = flr(rnd(i))+1
      local s = cards[j]
      cards[j] = cards[i]
      cards[i] = s
   end
end

-- for i from n−1 downto 1 do
--   j ← random integer such that 0 ≤ j ≤ i
--   exchange a[j] and a[i]
-- end

for i=1, 10 do
   labels[i] = 48 + i - 1
end
    
function _update()
   if (btnp(1)) px = px + 1
   if (btnp(0)) px = px - 1   
   
   local t = time()

   if flr(t * beats_per_second) > flr(last_beat * beats_per_second) then
      last_beat = t
      sfx(1)
   end
end

margin = (128 - 80) / 2

function _draw()
   cls()
   
   for i=1, 10 do
      local c = cards[i]
      spr( labels[c], (i-1)*8 + margin, 128 - 8 - ((c-1)*8 + margin) )
   end

   if (time() - last_beat < 0.1) then
      spr( 2, margin + (px - 1)*8, 5, 2, 2 )
   else
      spr( 0, margin + (px - 1)*8, 5, 2, 2 )
   end
end

__gfx__
02000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00820000000028000022200000022200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00288820028882000028802002088200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00080000000080000028888008888200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00080000000080000000800000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00020000000020000002800000082000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00020000000020000002800000082000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00080000000080000000800000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00080000000080000028888008888200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00288820028882000028802002088200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00820000000028000022200000022200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00777700000770000077700000777700007007000077770000777000007777000077770000777700000000000000000000000000000000000000000000000000
00700700000070000000070000000700007007000070000000700000007007000070070000700700000000000000000000000000000000000000000000000000
00700700000070000077770000077700007777000077770000777700000007000077770000777700000000000000000000000000000000000000000000000000
00700700000070000070000000000700000007000000070000700700000007000070070000000700000000000000000000000000000000000000000000000000
00777700000070000077770000777700000007000077770000777700000007000077770000000700000000000000000000000000000000000000000000000000
__sfx__
000100003054024530000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100000037000230003700023000670026500463000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000c55000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000001055000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000001355000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 02030444
00 40424344

